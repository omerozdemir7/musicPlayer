<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Ömer MUSİC</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"/>
</head>
<body>

    <div class="library-container" id="libraryContainer">
        <div class="header">
            <h2>Kütüphane</h2>
            <button class="close-btn" id="closeLibraryBtn" title="Kapat">&times;</button>
        </div>
        <div class="search-container">
            <i class="fas fa-search"></i>
            <input type="search" id="searchInput" placeholder="Kütüphanede Ara...">
        </div>
        <div class="playlist-container" id="playlistContainer"></div>
        <div class="library-footer">
            <button class="add-files-btn" id="addFilesBtn"><i class="fas fa-folder-plus"></i> Klasör Seç</button>
            <button class="add-files-btn" id="addSingleFilesBtn" style="background: #444;"><i class="fas fa-plus"></i> Dosya Ekle</button>
            <input type="file" id="fileInput" multiple accept="audio/*, .m4a, .mp3, .wav, .ogg" style="display: none;">
            <form id="youtubeForm">
                <i class="fab fa-youtube"></i>
                <input type="text" name="youtube_url" id="youtubeInput" placeholder="YouTube URL'si yapıştırın..." required>
                <button type="submit" title="Çal"><i class="fas fa-play"></i></button>
            </form>
        </div>
    </div>
    
    <div class="player-container" id="playerContainer">
        <div class="top-bar">
            <button class="toggle-library-btn" id="toggleLibraryBtn" title="Kütüphaneyi Aç"><i class="fas fa-list-ul"></i></button>
        </div>
        <div class="song-details">
            <img src="https://picsum.photos/300/300?grayscale" alt="Albüm Kapağı" class="album-art" id="albumArt">
            <h2 class="song-title" id="songTitle">Müzik Bekleniyor</h2>
            <p class="song-artist" id="songArtist">Lütfen bir dosya veya klasör seçin</p>
        </div>
        <div class="progress-container" id="progressContainer">
            <div class="progress-bar" id="progressBar"></div>
            <div class="time-stamps">
                <span id="currentTime">0:00</span>
                <span id="totalDuration">0:00</span>
            </div>
        </div>
        <div class="visualizer-wrap">
            <canvas id="visualizer"></canvas>
        </div>
        <div class="controls">
            <button class="control-btn" id="shuffleBtn" title="Karıştır"><i class="fas fa-random"></i></button>
            <button class="control-btn" id="prevBtn" disabled><i class="fas fa-backward-step"></i></button>
            <button class="control-btn play-btn" id="playPauseBtn" disabled>
                <i class="fas fa-play" id="playIcon"></i>
                <i class="fas fa-pause" id="pauseIcon" style="display:none;"></i>
            </button>
            <button class="control-btn" id="nextBtn" disabled><i class="fas fa-forward-step"></i></button>
            <button class="control-btn" id="repeatBtn" title="Tekrarla"><i class="fas fa-repeat"></i></button>
        </div>
        <div class="volume-container">
            <i class="fas fa-volume-down"></i>
            <input type="range" min="0" max="100" value="80" class="volume-slider" id="volumeSlider">
            <i class="fas fa-volume-up"></i>
        </div>
    </div>

    <div id="miniPlayer" class="mini-player">
        <img id="miniAlbum" src="" alt="mini-album-art">
        <div class="mini-info">
            <div id="miniTitle" class="mini-title">—</div>
            <div id="miniArtist" class="mini-artist">—</div>
        </div>
        <div class="mini-actions">
            <button id="miniPlayPause"><i class="fas fa-play"></i></button>
        </div>
    </div>

    <div class="overlay" id="overlay"></div>
    <audio id="audio" src=""></audio>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jsmediatags/3.9.5/jsmediatags.min.js"></script>
    <script src="script.js"></script>
</body>
</html>